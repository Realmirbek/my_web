import{s as p,t as i,w as a,x as c}from"./chunk-46A2A62J.mjs";import{c as r}from"./chunk-A3IIQ6X3.mjs";function y(){let[m,f]=i(!1),[u,d]=i(""),[l,h]=i(!1),b=p(null);return c("div",{style:x,children:[c("form",{ref:b,onSubmit:async n=>{if(n.preventDefault(),!m||l)return;h(!0);let o=new FormData(n.target),e=o.get("number").replace(/\D/g,""),t=e.startsWith("8")?"+7"+e.substring(1):"+"+e,s={name:o.get("name"),phone:t,email:o.get("email")||"",referrer:r.location.href||document.referrer||"",utmData:{utm_source:new URLSearchParams(r.location.search).get("utm_source")||"",utm_medium:new URLSearchParams(r.location.search).get("utm_medium")||"",utm_campaign:new URLSearchParams(r.location.search).get("utm_campaign")||"",utm_term:new URLSearchParams(r.location.search).get("utm_term")||"",utm_content:new URLSearchParams(r.location.search).get("utm_content")||""}};try{await fetch("https://test.nfactorial.school/api/websiteForm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),r.location.href="thanks"}catch(_){console.error("Error submitting form:",_),d("\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0435 \u0444\u043E\u0440\u043C\u044B"),h(!1)}},style:S,children:[a("input",{type:"text",name:"name",placeholder:"\u0418\u043C\u044F",required:!0,style:g}),a("input",{type:"tel",name:"number",placeholder:"+7 (___) ___-__-__",required:!0,style:g,onChange:n=>{let e=n.target.value.replace(/\D/g,"");e=e.substring(0,11);let t="";e.length>0&&(e[0]==="7"||e[0]==="8"?(t="+7",e=e.substring(1)):(e[0]==="9"||e.length>1)&&(t="+7"),e.length>0&&(t+=" ("+e.substring(0,3)),e.length>3&&(t+=") "+e.substring(3,6)),e.length>6&&(t+="-"+e.substring(6,8)),e.length>8&&(t+="-"+e.substring(8,10))),n.target.value=t;let s=e.length===10||e.length===11&&e[0]==="7";f(s),d(s?"":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u043E\u043C\u0435\u0440 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 +7 (XXX) XXX-XX-XX")}}),a("button",{type:"submit",disabled:!m||l,style:w,children:l?"\u041E\u0442\u043F\u0440\u0430\u0432\u043A\u0430...":"\u041F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u043A\u043E\u043D\u0441\u0443\u043B\u044C\u0442\u0430\u0446\u0438\u044E"})]}),u&&a("p",{style:R,children:u})]})}var x={backgroundColor:"rgba(246, 246, 246, 0.2)",padding:"8px",borderRadius:"10px"},S={display:"flex",flexDirection:"row",gap:"10px"},g={padding:"16px",border:"1px solid #EAE7E3",borderRadius:"10px",fontSize:"18px",color:"black"},w={padding:"16px",border:"none",borderRadius:"10px",backgroundColor:"#E01424",color:"white",fontSize:"18px",cursor:"pointer"},R={color:"red",fontWeight:"600",textAlign:"center"};export{y as a};
//# sourceMappingURL=chunk-LDFENZBB.mjs.map
